---
description: Set up and run a validator node
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Run a validator node
This page describes how to set up and run a validator node on mainnet.

You can do that in one of the two ways:
* Run a validator node *and* a bridge operator node in one Docker container.
* Run a validator node in one container, and a bridge operator nodeâ€”in another.

<Tabs groupId="node-setup">
  <TabItem value="together" label="Validator and bridge">
  
  Follow the steps in the guide to set up both nodes.

  </TabItem>
  <TabItem value="separately" label="Validator only">

  Complete the steps in this guide to set up a validator node, then follow [Run a bridge operator node](./bridge.md) to configure a bridge.

  </TabItem>
</Tabs>

## Latest release
### Validator
* [https://github.com/axieinfinity/ronin/releases/tag/v2.5.1](https://github.com/axieinfinity/ronin/releases/tag/v2.5.1)
* [ghcr.io/axieinfinity/ronin:v2.5.1-d1a6cc9](https://github.com/axieinfinity/ronin/pkgs/container/ronin/69326810?tag=v2.5.1-d1a6cc9)

### Bridge operator
* [https://github.com/axieinfinity/bridge-v2/releases/tag/0.2.1](https://github.com/axieinfinity/bridge-v2/releases/tag/0.2.1)
* [ghcr.io/axieinfinity/bridge:0.2.1-c15a725](https://github.com/axieinfinity/bridge-v2/pkgs/container/bridge/67046431?tag=0.2.1-c15a725)

## Prerequisites

* You must be a root user.
* Your machine must meet the minimum hardware requirements:
  * 8 CPU cores
  * 32 GB RAM
  * 700 GB SSD
* You need to have [docker-compose](https://docs.docker.com/compose/install/) installed.

## Set up and run
1\. In your working directory, create subdirectories for the config and chain data by running the following commands:

<Tabs groupId="node-setup">
  <TabItem value="together" label="Validator and bridge">

    mkdir -p  /axie/ronin-manager
    mkdir -p  ~/bridgedata-v2
    mkdir -p ~/.skymavis/chaindata/data/ronin/

  </TabItem>
  <TabItem value="separately" label="Validator only">

    mkdir -p  /axie/ronin-manager
    mkdir -p ~/.skymavis/chaindata/data/ronin/

  </TabItem>
</Tabs>

2\. Navigate to the `ronin-manager` directory:

```
cd /axie/ronin-manager
```

3\. Create a `docker-compose` file:

```
vim docker-compose.yml
```

4\. Paste the following contents into the file:

<Tabs groupId="node-setup">
  <TabItem value="together" label="Validator and bridge">

    version: "3"
    services:
      node:
        image: ${NODE_IMAGE}
        stop_grace_period: 5m
        stop_signal: SIGINT
        hostname: node
        container_name: node
        ports:
          - 127.0.0.1:8545:8545
          - 127.0.0.1:8546:8546
          - 30303:30303
          - 30303:30303/udp
          - 6060:6060
        volumes:
          - ~/.skymavis/chaindata:/ronin
        environment:
          - SYNC_MODE=snap
          - PASSWORD=${PASSWORD}
          - PRIVATE_KEY=${VALIDATOR_PRIVATE_KEY}
          - BOOTNODES=${BOOTNODES}
          - NETWORK_ID=${NETWORK_ID}
          - RONIN_PARAMS=${RONIN_PARAMS}
          - VERBOSITY=${VERBOSITY}
          - MINE=${MINE}
          - GASPRICE=${GASPRICE}
          - GENESIS_PATH=${GENESIS_PATH}
          - ETHSTATS_ENDPOINT=${INSTANCE_NAME}:${CHAIN_STATS_WS_SECRET}@${CHAIN_STATS_WS_SERVER}:443
      db:
        image: postgres:14.3
        restart: always
        command: postgres -c 'max_connections=1000'
        hostname: db
        container_name: db
        ports:
          - 127.0.0.1:5432:5432
        environment:
          POSTGRES_PASSWORD: example
        volumes:
          - ~/bridgedata-v2:/var/lib/postgresql/data
      bridge:
        image: ${BRIDGE_IMAGE}
        restart: always
        container_name: bridge
        environment:
          - RONIN_RPC=http://node:8545
          - RONIN_BRIDGE_VOTER_KEY=${BRIDGE_VOTER_PRIVATE_KEY}
          - RONIN_BRIDGE_OPERATOR_KEY=${BRIDGE_OPERATOR_PRIVATE_KEY}
          - ETHEREUM_RPC=${ETHEREUM_ENDPOINT}
          - DB_HOST=db
          - DB_NAME=${DB_NAME}
          - DB_PORT=5432
          - DB_USERNAME=${DB_USERNAME}
          - DB_PASSWORD=${DB_PASSWORD}
          - VERBOSITY=${VERBOSITY}
          - CONFIG_PATH=${CONFIG_PATH}
          - RONIN_TASK_INTERVAL=${RONIN_TASK_INTERVAL}
          - RONIN_TRANSACTION_CHECK_PERIOD=${RONIN_TRANSACTION_CHECK_PERIOD}
          - RONIN_MAX_PROCESSING_TASKS=${RONIN_MAX_PROCESSING_TASKS}
          - ETHEREUM_GET_LOGS_BATCH_SIZE=${ETHEREUM_GET_LOGS_BATCH_SIZE}
        depends_on:
          - db
          - node

  </TabItem>
  <TabItem value="separately" label="Validator only">

    version: "3"
    services:
      node:
        image: ${NODE_IMAGE}
        stop_grace_period: 5m
        stop_signal: SIGINT
        hostname: node
        container_name: node
        ports:
          - 127.0.0.1:8545:8545
          - 127.0.0.1:8546:8546
          - 30303:30303
          - 30303:30303/udp
          - 6060:6060
        volumes:
          - ~/.skymavis/chaindata:/ronin
        environment:
          - SYNC_MODE=snap
          - PASSWORD=${PASSWORD}
          - PRIVATE_KEY=${VALIDATOR_PRIVATE_KEY}
          - BOOTNODES=${BOOTNODES}
          - NETWORK_ID=${NETWORK_ID}
          - RONIN_PARAMS=${RONIN_PARAMS}
          - VERBOSITY=${VERBOSITY}
          - MINE=${MINE}
          - GASPRICE=${GASPRICE}
          - GENESIS_PATH=${GENESIS_PATH}
          - ETHSTATS_ENDPOINT=${INSTANCE_NAME}:${CHAIN_STATS_WS_SECRET}@${CHAIN_STATS_WS_SERVER}:443

  </TabItem>
</Tabs>

5\. Create an `.env` file:

```
vim .env
```

6\. Paste the following contents into the file, replacing the `insert-...` placeholder values with your own:

<Tabs groupId="node-setup">
  <TabItem value="together" label="Validator and bridge">

    # BOOTNODES address of the bootnode to connect to the network, will be auto-filled
    BOOTNODES=enode://cfa5f00c55eba79f359c9d95f5c0b2bb8e173867ffbb6e212c6799a52918502519e56650970e34caf1cd17418d4da46c3243588578886c3b4f8c42d1934bf108@104.198.242.88:30303,enode://f500391c41906a1dae249df084a3d1659fe602db671730b2778316114a5f7df44a0c6864a8dfffdc380fc81c6965dd911338e0e2591eb78a506857015d166250@34.135.18.26:30303,enode://fc7b8ceafe16e6f79ab2da3e73d0a3163d0c28efe0778863102f8f27758986fe28c1540a9a0bbdff29ab93ad1c5803462efe6c98165bbb404d9d099a55f1d2c9@130.211.208.201:30303
    # NETWORK_ID network id
    NETWORK_ID=2020
    # Setting for oracle services, where staging = rinkey + testnet, and production = ethereum + mainnet.
    DEPLOYMENT=production
    # Setting nodekey
    GASPRICE=20000000000

    # INSTANCE_NAME is the name of your instance that you want to display on the stats page.
    INSTANCE_NAME=insert-your-instance-name

    # User for postgres account.
    DB_USERNAME=postgres
    # Password for postgres account.
    DB_PASSWORD=example
    DB_NAME=bridge
    # Database to store oracle.
    POSTGRES_DB=bridge
    # Password to protect your private key.
    PASSWORD=123456

    # Private key of validator address, without 0x. 
    VALIDATOR_PRIVATE_KEY=insert-your-validator-private-key
    ETHEREUM_ENDPOINT=https://eth-mainnet.g.alchemy.com/v2/your-ethereum-endpoint
    MINE=true

    NODE_IMAGE=ghcr.io/axieinfinity/ronin:v2.5.1-d1a6cc9
    BRIDGE_IMAGE=ghcr.io/axieinfinity/bridge:0.2.1-c15a725
    VERBOSITY=3

    RONIN_TASK_INTERVAL=3
    RONIN_TRANSACTION_CHECK_PERIOD=50
    RONIN_MAX_PROCESSING_TASKS=200
    ETHEREUM_GET_LOGS_BATCH_SIZE=100
    CHAIN_STATS_WS_SECRET=xQj2MZPaN6
    CHAIN_STATS_WS_SERVER=stats.roninchain.com

    RONIN_PARAMS=--http.api eth,net,web3,consortium --miner.gaslimit 100000000 --miner.gasreserve 2000000

    # Private key of the bridge operator, used for acknowledging deposit and withdrawal events to facilitate asset transfers between Ronin and other EVM-based chains, without 0x.
    BRIDGE_OPERATOR_PRIVATE_KEY=insert-your-operator-private-key

    # Private key of the bridge voter (also known as "governor") without 0x. Only governor roles need to set this, otherwise you can leave it blank. 
    BRIDGE_VOTER_PRIVATE_KEY=insert-your-voter-private-key

  </TabItem>
  <TabItem value="separately" label="Validator only">

    # BOOTNODES address of the bootnode to connect to the network, will be auto-filled
    BOOTNODES=enode://cfa5f00c55eba79f359c9d95f5c0b2bb8e173867ffbb6e212c6799a52918502519e56650970e34caf1cd17418d4da46c3243588578886c3b4f8c42d1934bf108@104.198.242.88:30303,enode://f500391c41906a1dae249df084a3d1659fe602db671730b2778316114a5f7df44a0c6864a8dfffdc380fc81c6965dd911338e0e2591eb78a506857015d166250@34.135.18.26:30303,enode://fc7b8ceafe16e6f79ab2da3e73d0a3163d0c28efe0778863102f8f27758986fe28c1540a9a0bbdff29ab93ad1c5803462efe6c98165bbb404d9d099a55f1d2c9@130.211.208.201:30303
    # NETWORK_ID network id
    NETWORK_ID=2020
    # Setting for oracle services, where staging = rinkey + testnet, and production = ethereum + mainnet.
    DEPLOYMENT=production
    # Setting nodekey
    GASPRICE=20000000000

    # INSTANCE_NAME is the name of your instance that you want to display on the stats page.
    INSTANCE_NAME=insert-your-instance-name

    # Private key of validator address, without 0x. 
    VALIDATOR_PRIVATE_KEY=insert-your-validator-private-key
    
    MINE=true

    NODE_IMAGE=ghcr.io/axieinfinity/ronin:v2.5.1-d1a6cc9
    VERBOSITY=3

    CHAIN_STATS_WS_SECRET=xQj2MZPaN6
    CHAIN_STATS_WS_SERVER=stats.roninchain.com

    RONIN_PARAMS=--http.api eth,net,web3,consortium --miner.gaslimit 100000000 --miner.gasreserve 2000000

  </TabItem>
</Tabs>

8\. Start the node:

```
docker-compose up -d 
```

After a few minutes, go to the [stats page](https://stats.roninchain.com/) to check the status of your node. If it's green, the node is connected and up to date with the network.